!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e(require("react")):"function"==typeof define&&define.amd?define("reactn",["react"],e):"object"==typeof exports?exports.reactn=e(require("react")):t.reactn=e(t.React)}("undefined"!=typeof self?self:this,function(t){return function(t){var e={};function n(r){if(e[r])return e[r].exports;var o=e[r]={i:r,l:!1,exports:{}};return t[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.m=t,n.c=e,n.d=function(t,e,r){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var o in t)n.d(r,o,function(e){return t[e]}.bind(null,o));return r},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=6)}([function(t,e,n){var r=n(7);t.exports=new r},function(e,n){e.exports=t},function(t,e,n){function r(t){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function o(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function a(t){return(a=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function i(t,e){return(i=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function u(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}var l=n(1),c=l.Component,f=l.PureComponent,s=n(3),y=s.ReactNComponentWillUnmount,p=s.ReactNGlobal,b=s.ReactNGlobalCallback,v=s.ReactNSetGlobal,d=function(t){return function(e){function n(){var t,e;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,n);for(var o=arguments.length,i=new Array(o),l=0;l<o;l++)i[l]=arguments[l];!function(t,e,n){e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n}(u(u(e=function(t,e){return!e||"object"!==r(e)&&"function"!=typeof e?u(t):e}(this,(t=a(n)).call.apply(t,[this].concat(i))))),"_globalCallback",function(){b(u(u(e)))});var c=Object.getPrototypeOf(u(u(e))),f=Object.prototype.hasOwnProperty.call(u(u(e)),"componentWillUnmount"),s=Object.prototype.hasOwnProperty.call(c,"componentWillUnmount");if(f||s){var p=f?e.componentWillUnmount:c.componentWillUnmount.bind(u(u(e)));e.componentWillUnmount=function(){y(u(u(e))),p.apply(void 0,arguments)}}return e}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&i(t,e)}(n,t),function(t,e,n){e&&o(t.prototype,e),n&&o(t,n)}(n,[{key:"componentWillUnmount",value:function(){y(this)}},{key:"setGlobal",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;v(this,t,e,!0)}},{key:"global",get:function(){return p(this)}}]),n}()};t.exports={ReactNComponent:d(c),ReactNPureComponent:d(f)}},function(t,e,n){var r=n(0);t.exports={createReactNGetDerivedStateFromProps:function(t){return function(e){for(var n=arguments.length,o=new Array(n>1?n-1:0),a=1;a<n;a++)o[a-1]=arguments[a];var i=t.getDerivedGlobalFromProps.apply(t,[e,r.stateWithReducers].concat(o));return r.setAny(i),Object.prototype.hasOwnProperty.call(t,"getDerivedStateFromProps")?t.getDerivedStateFromProps.apply(t,[e].concat(o)):null}},ReactNComponentWillUnmount:function(t){r.removePropertyListener(t._globalCallback)},ReactNGlobal:function(t){return r.spyStateWithReducers(t._globalCallback)},ReactNGlobalCallback:function(t){t.updater.enqueueForceUpdate(t,null,"forceUpdate")},ReactNSetGlobal:function t(e,n,o,a){a?r.setAnyCallback(n,o):setTimeout(function(){t(e,n,o,!0)},0)}}},function(t,e,n){var r=n(0);t.exports=function(t){return function(){for(var e=arguments.length,n=new Array(e),o=0;o<e;o++)n[o]=arguments[o];return r.setAny(t.apply(void 0,[r.stateWithReducers].concat(n)))}}},function(t,e,n){var r=n(0);t.exports=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return r.setAnyCallback(t,e)}},function(t,e,n){var r=n(1),o=n(2),a=o.ReactNComponent,i=o.ReactNPureComponent,u=n(9),l=n(10),c=l.addCallback,f=l.addReducer,s=l.getGlobal,y=l.removeCallback,p=l.resetGlobal,b=l.setGlobal,v=l.useGlobal,d=l.withGlobal;Object.assign(u,r,{addCallback:c,addReducer:f,Component:a,default:u,getGlobal:s,PureComponent:i,removeCallback:y,resetGlobal:p,setGlobal:b,useGlobal:v,withGlobal:d}),t.exports=u},function(t,e,n){function r(t){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function o(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=[],r=!0,o=!1,a=void 0;try{for(var i,u=t[Symbol.iterator]();!(r=(i=u.next()).done)&&(n.push(i.value),!e||n.length!==e);r=!0);}catch(t){o=!0,a=t}finally{try{r||null==u.return||u.return()}finally{if(o)throw a}}return n}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function a(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var i=n(8),u=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.reset()}return function(t,e,n){e&&a(t.prototype,e),n&&a(t,n)}(t,[{key:"addCallback",value:function(t){var e=this;return this._callbacks.add(t),function(){e.removeCallback(t)}}},{key:"addPropertyListener",value:function(t,e){this._propertyListeners.has(t)?this._propertyListeners.get(t).add(e):this._propertyListeners.set(t,new Set([e]))}},{key:"addReducer",value:function(t,e){var n=this;if(this.hasReducer(t)){if(this.getReducer(t)===e)return;throw new Error("A reducer named ".concat(t," already exists."))}return this._reducers.set(t,e),function(){n.removeReducer(t)}}},{key:"beginTransaction",value:function(){return this._transactionId=(this._transactionId+1)%9007199254740990,this._transactions.set(this._transactionId,{delete:new Set,propertyListeners:new Set,state:new Map}),this._transactionId}},{key:"commit",value:function(t){var e=this._transactions.get(t),n=!0,r=!1,a=void 0;try{for(var i,u=e.delete[Symbol.iterator]();!(n=(i=u.next()).done);n=!0){var l=i.value;delete this._state[l]}}catch(t){r=!0,a=t}finally{try{n||null==u.return||u.return()}finally{if(r)throw a}}var c=!0,f=!1,s=void 0;try{for(var y,p=e.state.entries()[Symbol.iterator]();!(c=(y=p.next()).done);c=!0){var b=o(y.value,2),v=b[0],d=b[1];this._state[v]=d}}catch(t){f=!0,s=t}finally{try{c||null==p.return||p.return()}finally{if(f)throw s}}var h=!0,m=!1,g=void 0;try{for(var w,O=e.propertyListeners[Symbol.iterator]();!(h=(w=O.next()).done);h=!0){(0,w.value)()}}catch(t){m=!0,g=t}finally{try{h||null==O.return||O.return()}finally{if(m)throw g}}this._transactions.delete(t);var _=!0,j=!1,k=void 0;try{for(var S,P=this._callbacks[Symbol.iterator]();!(_=(S=P.next()).done);_=!0){var R=S.value;this.setAny(R(this.stateWithReducers))}}catch(t){j=!0,k=t}finally{try{_||null==P.return||P.return()}finally{if(j)throw k}}}},{key:"getReducer",value:function(t){return this._reducers.get(t)}},{key:"getReducers",value:function(){var t=Object.create(null),e=!0,n=!1,r=void 0;try{for(var a,i=this._reducers.entries()[Symbol.iterator]();!(e=(a=i.next()).done);e=!0){var u=o(a.value,2),l=u[0],c=u[1];t[l]=c}}catch(t){n=!0,r=t}finally{try{e||null==i.return||i.return()}finally{if(n)throw r}}return t}},{key:"hasReducer",value:function(t){return this._reducers.has(t)}},{key:"removeCallback",value:function(t){this._callbacks.delete(t)}},{key:"removePropertyListener",value:function(t){var e=!0,n=!1,r=void 0;try{for(var o,a=this._propertyListeners.values()[Symbol.iterator]();!(e=(o=a.next()).done);e=!0){o.value.delete(t)}}catch(t){n=!0,r=t}finally{try{e||null==a.return||a.return()}finally{if(n)throw r}}var i=!0,u=!1,l=void 0;try{for(var c,f=this._transactions.values()[Symbol.iterator]();!(i=(c=f.next()).done);i=!0){c.value.propertyListeners.delete(t)}}catch(t){u=!0,l=t}finally{try{i||null==f.return||f.return()}finally{if(u)throw l}}}},{key:"removeReducer",value:function(t){this._reducers.remove(t)}},{key:"reset",value:function(){this._callbacks=new Set,this._propertyListeners=new Map,this._reducers=new Map,this._state=Object.create(null),this._transactionId=0,this._transactions=new Map}},{key:"set",value:function(t,e,n){if(this.hasReducer(t))return n;var r=this._transactions.get(n);void 0===e?r.delete.add(t):r.state.set(t,e);var o=this._propertyListeners.get(t);if(o){var a=!0,i=!1,u=void 0;try{for(var l,c=o[Symbol.iterator]();!(a=(l=c.next()).done);a=!0){var f=l.value;r.propertyListeners.add(f)}}catch(t){i=!0,u=t}finally{try{a||null==c.return||c.return()}finally{if(i)throw u}}}return n}},{key:"setAny",value:function(t){if(null!==t&&void 0!==t){if(t instanceof Promise)return this.setPromise(t);if("function"==typeof t)return this.setFunction(t);if("object"===r(t))return this.setObject(t);throw new Error("Global state must be a function, null, object, or Promise.")}}},{key:"setAnyCallback",value:function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=this.setAny(t);"function"==typeof n&&(r instanceof Promise?r.then(function(){n(e.stateWithReducers)}):n(this.stateWithReducers))}},{key:"setFunction",value:function(t){return this.setAny(t(this.stateWithReducers))}},{key:"setObject",value:function(t){for(var e=this.beginTransaction(),n=Object.entries(t),r=0;r<n.length;r++){var a=o(n[r],2),i=a[0],u=a[1];this.set(i,u,e)}this.commit(e)}},{key:"setPromise",value:function(t){var e=this;return t.then(function(t){return e.setAny(t)})}},{key:"spyState",value:function(t){var e=this;return i(this._state,function(n){e.addPropertyListener(n,t)})}},{key:"spyStateWithReducers",value:function(t){return Object.assign(this.spyState(t),this.getReducers())}},{key:"state",get:function(){return Object.assign(Object.create(null),this._state)}},{key:"stateWithReducers",get:function(){return Object.assign(this.state,this.getReducers())}}]),t}();t.exports=u},function(t,e){t.exports=function(t,e){return Object.keys(t).reduce(function(n,r){return Object.defineProperty(n,r,{configurable:!1,enumerable:!0,get:function(){return e(r),t[r]}}),n},Object.create(null))}},function(t,e,n){function r(t){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function o(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function a(t,e,n){return(a="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=i(t)););return t}(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(n):o.value}})(t,e,n||t)}function i(t){return(i=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function u(t,e){return(u=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function l(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function c(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var f=n(3),s=f.createReactNGetDerivedStateFromProps,y=f.ReactNComponentWillUnmount,p=f.ReactNGlobal,b=f.ReactNGlobalCallback,v=f.ReactNSetGlobal;t.exports=function(t){var e=function(e){function n(){var t,e;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,n);for(var o=arguments.length,a=new Array(o),u=0;u<o;u++)a[u]=arguments[u];return c(l(l(e=function(t,e){return!e||"object"!==r(e)&&"function"!=typeof e?l(t):e}(this,(t=i(n)).call.apply(t,[this].concat(a))))),"_globalCallback",function(){b(l(l(e)))}),e}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&u(t,e)}(n,t),function(t,e,n){e&&o(t.prototype,e),n&&o(t,n)}(n,[{key:"componentWillUnmount",value:function(){if(y(this),a(i(n.prototype),"componentWillUnmount",this)){for(var t,e=arguments.length,r=new Array(e),o=0;o<e;o++)r[o]=arguments[o];(t=a(i(n.prototype),"componentWillUnmount",this)).call.apply(t,[this].concat(r))}}},{key:"setGlobal",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;v(this,t,e,!0)}},{key:"global",get:function(){return p(this)}}]),n}();return c(e,"displayName",(t.displayName||t.name)+"-ReactN"),Object.prototype.hasOwnProperty.call(t,"getDerivedGlobalFromProps")&&(e.getDerivedStateFromProps=s(t)),e}},function(t,e,n){var r=n(11),o=n(12),a=n(13),i=n(14),u=n(15),l=n(5),c=n(16),f=n(18);t.exports={addCallback:r,addReducer:o,getGlobal:a,removeCallback:i,resetGlobal:u,setGlobal:l,useGlobal:c,withGlobal:f}},function(t,e,n){var r=n(0);t.exports=function(t){return r.addCallback(t)}},function(t,e,n){var r=n(4),o=n(0);t.exports=function(t,e){o.addReducer(t,r(e))}},function(t,e,n){var r=n(0);t.exports=function(){return r.stateWithReducers}},function(t,e,n){var r=n(0);t.exports=function(t){return r.removeCallback(t)}},function(t,e,n){var r=n(0);t.exports=function(){return r.reset()}},function(t,e,n){var r=n(1),o=n(17).default,a=n(4),i=n(0),u=n(5);t.exports=function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!r.useState)throw new Error("The installed version of React does not support Hooks, which are required for useGlobal.");var n=o();if(r.useEffect(function(){return function(){i.removePropertyListener(n)}}),!t){var l=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;u(t,e)};return e?l:[i.spyStateWithReducers(n),l]}if("function"==typeof t)return a(t);if(i.hasReducer(t))return i.getReducer(t);var c=function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return i.setAnyCallback(function(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}({},t,e),n)};return e?c:[i.spyState(n)[t],c]}},function(t,e,n){"use strict";var r=this&&this.__read||function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,o,a=n.call(t),i=[];try{for(;(void 0===e||e-- >0)&&!(r=a.next()).done;)i.push(r.value)}catch(t){o={error:t}}finally{try{r&&!r.done&&(n=a.return)&&n.call(a)}finally{if(o)throw o.error}}return i};Object.defineProperty(e,"__esModule",{value:!0});var o=n(1);e.default=function(){var t=r(o.useState(0),2)[1];return function(){t(function(t){return(t+1)%9007199254740990})}}},function(t,e,n){function r(t){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function o(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function a(t,e){return!e||"object"!==r(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function i(t){return(i=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function u(t,e){return(u=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function l(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var c=n(1).createElement,f=n(2).ReactNPureComponent;t.exports=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:function(t){return t},e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){return null};return function(n){var r,s;return s=r=function(r){function s(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,s),a(this,i(s).apply(this,arguments))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&u(t,e)}(s,f),function(t,e,n){e&&o(t.prototype,e),n&&o(t,n)}(s,[{key:"render",value:function(){return c(n,function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(t){return Object.getOwnPropertyDescriptor(n,t).enumerable}))),r.forEach(function(e){l(t,e,n[e])})}return t}({},this.props,t(this.global,this.props),e(this.setGlobal,this.props)))}}]),s}(),l(r,"displayName",(n.displayName||n.name)+"-ReactN"),s}}}])});